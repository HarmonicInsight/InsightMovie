# InsightMovie Manual Testing Checklist
# 手動テストチェックリスト

## 前提条件

- Windows 10/11
- VOICEVOX Engine がインストールされているか、自動ダウンロード可能
- ffmpeg がインストールされているか、自動ダウンロード可能

## 初回起動テスト

### セットアップウィザード

- [ ] アプリケーション起動時にセットアップウィザードが表示される
- [ ] VOICEVOX Engine の自動検出が動作する
- [ ] VOICEVOX Engine が見つからない場合、手動選択できる
- [ ] 話者選択画面で話者リストが表示される
- [ ] デフォルト話者（青山龍星）が選択されている
- [ ] セットアップ完了後、メインウィンドウが表示される

## プロジェクト作成テスト

### 基本機能

- [ ] 新規プロジェクト作成時に4シーンが自動生成される
- [ ] シーンリストに4つのシーンが表示される
- [ ] シーンを選択すると、編集パネルが更新される

### シーン編集

- [ ] 画像ファイル（.jpg, .png）を選択できる
- [ ] 動画ファイル（.mp4, .mov）を選択できる
- [ ] ナレーションテキストを入力できる
- [ ] 字幕テキストを入力できる
- [ ] 再生時間モード（自動/固定）を切り替えできる
- [ ] 固定秒数を設定できる

### シーン管理

- [ ] シーンを追加できる
- [ ] シーンを削除できる（最低1シーンは残る）
- [ ] シーンを上下に移動できる
- [ ] シーンの順序が保存される

## 音声生成テスト

### VOICEVOX連携

- [ ] ナレーションテキストから音声が生成される
- [ ] 生成された音声が再生される
- [ ] 音声の長さが正しく取得される
- [ ] 同じテキストで2回目は高速（キャッシュ利用）

### エラーハンドリング

- [ ] VOICEVOX Engineが起動していない場合、エラーメッセージが表示される
- [ ] 接続失敗時に適切なエラーメッセージが表示される

## 動画生成テスト

### シーン動画生成

- [ ] 画像 + 音声 → 動画が生成される
- [ ] 動画 + 音声 → トリミングされた動画が生成される
- [ ] 字幕がオーバーレイされる
- [ ] 字幕の背景が黒色半透明で表示される
- [ ] 生成された動画が再生可能

### 最終動画書き出し

- [ ] 全シーンが結合される
- [ ] 出力解像度（縦・横）が正しく適用される
- [ ] FPS設定が正しく適用される
- [ ] 出力ファイルが指定した場所に保存される
- [ ] 生成プログレスが表示される

## プロジェクト保存・読み込み

### 保存

- [ ] プロジェクトをJSONファイルとして保存できる
- [ ] 保存したファイルにシーン情報が含まれている
- [ ] 出力設定が保存される

### 読み込み

- [ ] 保存したプロジェクトを開ける
- [ ] シーン情報が正しく復元される
- [ ] メディアパスが正しく復元される
- [ ] 音声キャッシュパスが正しく復元される

## パフォーマンステスト

- [ ] 4シーンの動画生成が5分以内に完了する
- [ ] 10シーン以上のプロジェクトでも動作する
- [ ] メモリ使用量が1GB以下（通常使用時）

## ffmpeg検出テスト

### 自動検出

- [ ] システムPATHからffmpegを検出できる
- [ ] `tools/ffmpeg/bin/ffmpeg.exe` を検出できる
- [ ] `C:\ffmpeg\bin\ffmpeg.exe` を検出できる
- [ ] ffmpegが見つからない場合、警告が表示される

### バージョン確認

- [ ] ffmpegのバージョンが表示される（デバッグ時）

## エラーケース

- [ ] 存在しないファイルパスを設定した場合のエラーハンドリング
- [ ] 空のナレーションテキストの場合のエラーハンドリング
- [ ] ffmpegが見つからない場合のエラーメッセージ
- [ ] ディスク容量不足時のエラーメッセージ

## UI/UX

- [ ] ボタンやテキストが日本語で表示される
- [ ] ウィンドウサイズが適切
- [ ] レイアウトが崩れていない
- [ ] プログレスバーが正しく動作する

## クロスバージョンテスト

- [ ] Windows 10で動作する
- [ ] Windows 11で動作する
- [ ] 日本語環境で動作する
- [ ] 英語環境でも動作する（オプション）

## テスト結果記録

| テスト項目 | 結果 | 備考 |
|-----------|------|------|
| 初回起動 | ✓/✗ |      |
| プロジェクト作成 | ✓/✗ |      |
| シーン編集 | ✓/✗ |      |
| 音声生成 | ✓/✗ |      |
| 動画生成 | ✓/✗ |      |
| 保存・読み込み | ✓/✗ |      |
| ffmpeg検出 | ✓/✗ |      |

## 既知の問題

<!-- ここに既知の問題を記載 -->

## 次のステップ

1. すべてのテストがパスしたら、PyInstallerでパッケージング
2. インストーラーのテスト
3. 配布準備
